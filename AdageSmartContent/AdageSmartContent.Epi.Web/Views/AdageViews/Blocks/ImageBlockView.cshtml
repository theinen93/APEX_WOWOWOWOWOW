@using EPiServer.Core
@using EPiServer.Web.Mvc.Html
@using Adage.EpiStarterKit.ModelPartials.Models.Blocks
@using Adage.EpiStarterKit.ViewModelPartials.ViewModels.Blocks
@using Adage.EpiStarterKit.ModelPartials.Models.Media
@using Adage.EpiStarterKit.ViewModelPartials.LibraryPartials.Utility

@model IBaseLinkBlockViewModel<ImageBlock>


<section class="adage-block">
    <figure class="adage-block-inner adage-image-block">
        @if (Model.CurrentBlock.LinkUrl != null)
        {
            <a href="@Model.CurrentBlock.LinkUrl.GetFriendlyUrl()" target="@Model.TargetFrame" class="adage-image-block-link">
                @Html.PropertyFor(m => m.CurrentBlock.Image, new { cssClass = "adage-image-block-img" })
            </a>
        }
        else
        {
            @Html.PropertyFor(m => m.CurrentBlock.Image)
        }
    </figure>
</section>